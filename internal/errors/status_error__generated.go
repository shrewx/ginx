// Code generated by tools. DO NOT EDIT!
package errors

import (
	"fmt"
	"github.com/shrewx/ginx/pkg/i18nx"
	"github.com/shrewx/ginx/pkg/statuserror"
	"github.com/nicksnyder/go-i18n/v2/i18n"
	"strconv"
)

func init() {
	i18nx.RegisterHooks(RegisterErrorMessages)
}

func (v StatusError) WithParams(params map[string]interface{}) statuserror.CommonError {
	return statuserror.NewStatusErr(v.Key(), v.Code()).WithParams(params)
}

func (v StatusError) WithField(key interface{}, value string) statuserror.CommonError {
	return statuserror.NewStatusErr(v.Key(), v.Code()).WithField(key, value)
}

func (v StatusError) Localize(manager *i18nx.Localize, lang string) i18nx.I18nMessage {
	return statuserror.NewStatusErr(v.Key(), v.Code()).Localize(manager, lang)
}

func (v StatusError) LocalizeValue(value interface{}) statuserror.CommonError {
	return statuserror.NewStatusErr(v.Key(), v.Code()).WithParams(map[string]interface{}{"Value": value})
}

func (v StatusError) LocalizeData(data map[string]interface{}) statuserror.CommonError {
	return statuserror.NewStatusErr(v.Key(), v.Code()).WithParams(data)
}

func (v StatusError) StatusCode() int {
	return statuserror.NewStatusErr(v.Key(), v.Code()).StatusCode()
}

func (v StatusError) Key() string {
	switch v { 
	case BadRequest:
		return "BadRequest"
	case Unauthorized:
		return "Unauthorized"
	case Forbidden:
		return "Forbidden"
	case NotFound:
		return "NotFound"
	case Conflict:
		return "Conflict"
	case InternalServerError:
		return "InternalServerError"
	}
	return "UNKNOWN"
}

func (v StatusError) Prefix() string {
	return "error_codes"
}

func (v StatusError) ID() string {
	if v.Prefix() == "" {
		return strconv.FormatInt(int64(v.Code()), 10)
	}
	return v.Prefix() + "." + strconv.FormatInt(int64(v.Code()), 10)
}

func (v StatusError) Code() int64 {
	return int64(v)
}

func (v StatusError) Error() string {
	return statuserror.NewStatusErr(v.Key(), v.Code()).Error()
}

func (v StatusError) Value() string {
	return statuserror.NewStatusErr(v.Key(), v.Code()).Value()
}

func GetStatusErrorMap() map[string]map[StatusError]string {
	return map[string]map[StatusError]string{
		"en": {
			BadRequest: "bad request",
			Unauthorized: "unauthorized",
			Forbidden: "forbidden",
			NotFound: "not found",
			Conflict: "conflict",
			InternalServerError: "internal server error",
			
		},
		"zh": {
			BadRequest: "请求参数错误",
			Unauthorized: "未授权，请先授权",
			Forbidden: "禁止操作",
			NotFound: "资源未找到",
			Conflict: "资源冲突",
			InternalServerError: "未知的异常信息：请联系技术服务工程师进行排查",
			
		},
		
	}
}

func RegisterErrorMessages() {
	errorMap := GetStatusErrorMap()
	for lang, messages := range errorMap {
		var i18nMessages []*i18n.Message
		for key, message := range messages {
			i18nMessages = append(i18nMessages, &i18n.Message{ID: fmt.Sprintf("%s.%s", lang, key.ID()), Other: message})
		}
		i18nx.AddMessages(lang, i18nMessages)
	}
}
